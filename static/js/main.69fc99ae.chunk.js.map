{"version":3,"sources":["assets/logos/iSkull-logo.png","assets/logos/iSkull-logo-black.png","redux/categoryList/categoryList.selectors.js","components/category/category.component.jsx","components/categoryList/categoryList.component.jsx","pages/homepage/homepage.component.jsx","redux/shop/shop.selector.js","components/with-spinner/with-spinner.component.jsx","redux/cart/cart.types.js","redux/cart/cart.actions.js","components/custom-button/custom-button.component.jsx","components/collection-item/collection-item.component.jsx","components/collection-preview/collection-preview.component.jsx","components/collections-overview/collections-overview.component.jsx","components/collections-overview/collections-overview.container.jsx","pages/collection/collection.component.jsx","pages/collection/collection.container.jsx","redux/shop/shop.types.js","firebase/firebase.utils.js","redux/shop/shop.actions.js","pages/shop/shop.component.jsx","redux/cart/cart.selectors.js","assets/images/shopping-cart.svg","components/cart-icon/cart-icon.component.jsx","components/cart-item/cart-item.component.jsx","components/cart-dropdown/cart-dropdown.component.jsx","redux/user/user.types.js","redux/user/user.actions.js","assets/images/user.svg","components/user-icon/user-icon.component.jsx","components/user-dropdown/user-dropdown.component.jsx","redux/user/user.selector.js","components/header/header.component.jsx","components/form-input/form-input.component.jsx","pages/sign-in/sign-in.component.jsx","pages/register/register.component.jsx","components/checkout-item/checkout-item.component.jsx","redux/payment/payment.types.js","components/stripe-button/stripe-button.component.jsx","redux/payment/payment.actions.js","components/checkout-error-message/checkout-error-message.component.jsx","pages/checkout/checkout.component.jsx","components/footer/footer.component.jsx","components/user-image/user-image.component.jsx","components/user-dashboard/user-dashboard.component.jsx","components/address-item/address-item.component.jsx","components/user-address/user-address.component.jsx","components/user-information/user-information.component.jsx","components/order-history-item/order-history-item.component.jsx","components/order-history/order-history.component.jsx","components/user-profile-content/user-profile-content.component.jsx","pages/user-profile/user-profile.component.jsx","App.js","redux/user/user.reducer.js","redux/cart/cart.utils.js","redux/cart/cart.reducer.js","redux/categoryList/categoryList.reducer.js","redux/shop/shop.reducer.js","redux/payment/payment.reducer.js","redux/root-reducer.js","redux/shop/shop.sagas.js","redux/user/user.sagas.js","redux/cart/cart.sagas.js","redux/payment/payment.sagas.js","redux/root-saga.js","redux/store.js","serviceWorker.js","index.js"],"names":["module","exports","selectCategoryListCategory","createSelector","state","categoryList","categories","Category","this","props","title","imageUrl","history","linkUrl","match","onClick","push","url","style","backgroundImage","className","React","Component","withRouter","CategoryList","map","id","otherCategoryProps","key","mapSateToProps","createStructuredSelector","connect","HomePage","selectShop","shop","selectCollections","collections","selectCollectionsForPreview","Object","keys","selectCollection","memoize","collectionUrlParam","selectIsCollectionFetching","isFetching","selectIsCollectionLoaded","WithSpinner","WrappedComponent","isLoading","otherProps","CartActionTypes","TOGGLE_CART_HIDDEN","CART_CLICK_OUTSIDE","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEM_FROM_CART","CLEAR_CART","toggleCartHidden","type","addItem","item","payload","clearCart","CustomButton","children","isGoogleSignIn","inverted","CollectionItem","name","price","dispatch","CollectionPreview","items","filter","idx","routeName","path","toUpperCase","filterItems","CollectionsOverview","otherCollectionProps","mapStateToProps","CollectionsOverviewContainer","compose","CollectionPage","collection","console","log","ownProps","params","collectionId","CollectionPageContainer","ShopActionTypes","FETCH_COLLECTIONS_START","FETCH_COLLECTIONS_SUCCESS","FETCH_COLLECTION_FAILURE","createUserProfileDocument","userAuth","additionalData","a","userRef","firestore","doc","uid","get","exists","displayName","email","createdAt","Date","set","message","addCartItemsToOrderDetails","currentUser","cartItems","data","date","toUTCString","update","orderHistory","firebase","FieldValue","arrayUnion","updateUserAddress","addressData","address","then","catch","error","convertCollectionSnapshotToMap","docs","encodeURI","toLowerCase","reduce","acc","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","fetchCollectionsStart","collectionsMap","fetchCollectionsSuccess","fetchCollectionsFailure","errorMessage","ShopPage","unsubscribeFromSnapshot","exact","component","selectCart","cart","selectCartItems","selectCartItemsCount","accumlator","cartItem","quantity","selectCartHidden","hidden","selectCartTotal","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref","svgRef","x","y","viewBox","enableBackground","xmlSpace","ref","ForwardRef","forwardRef","CartIcon","itemCount","CartItem","src","alt","CartDropdown","handleClick","event","ReactDOM","findDOMNode","contains","hideCart","document","addEventListener","removeEventListener","UserActionTypes","SET_CURRENT_USER","GOOGLE_SIGN_IN_START","EMAIL_SIGN_IN_START","SIGN_IN_SUCCESS","SIGN_IN_FAILURE","CHECK_USER_SESSION","SIGN_OUT_START","SIGN_OUT_SUCCESS","SIGN_OUT_FAILURE","SIGN_UP_START","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","UPDATE_ADDRESS_START","UPDATE_ADDRESS_SUCCESS","UPDATE_ADDRESS_FAILURE","TOGGLE_USER_DROPDOWN_HIDDEN","USER_DROPDOWN_CLICKED_OUTSIDE","SHOW_USER_INFORMATION","SHOW_ORDER_HISTORY","GET_ORDER_HISTORY","signInFailure","hideUserDropdown","showUserInformation","showOrderHistory","signUpSuccess","user","updateAddressSuccess","getOrderHistory","UserProfileIcon","toggleUserDropdownHidden","UserDropdown","selectUser","selectCurrentUser","selectOrderHistory","selectUserDropdownHidden","selectShowUserInformation","showUserInformtion","selectShowOrderHistory","Header","cartHidden","userDropdownHidden","signOutStart","to","logo","FormInput","handleChange","label","isGreyBackground","isBlueBackground","onChange","SignIn","handleSubmit","preventDefault","emailSignInStart","password","value","setState","googleSignInStart","onSubmit","required","Register","signUpStart","confirmPassword","alert","userCredentials","CheckoutItem","clearItem","removeItem","clearItemFromCart","PaymentActionTypes","STRIPE_PAYMENT_START","STRIPE_PAYMENT_SUCCESS","STRIPE_PAYMENT_FAILURE","stripePaymentStart","stripeData","isDisabled","priceForStripe","currency","allowRememberMe","image","description","amount","panelLabel","token","stripeKey","disabled","CheckoutErrorMessage","Fragment","Checkout","total","Footer","href","UserImage","UserDashboard","AddressItem","defaultValue","UserAddressForm","houseNo","street","city","zipCode","country","updateAddressStart","hno","zip","UserInformation","OrderHistoryItem","OrderHistory","reverse","order","UserProfileContent","renderUserInformation","renderOrderHistory","UserProfile","App","unsubscribeFromAuth","checkUserSession","render","INITIAL_STATE","showResetPassword","userReducer","action","addItemToCart","cartItemToAdd","find","removeItemFromCart","cartItemToRemove","cartReducer","categoryListReducer","INITITAL_STATE","undefined","shopReducer","UPDATE_COLLECTIONS","paymentReducer","persistConfig","storage","whiteList","rootReducer","combineReducers","payment","persistReducer","fetchCollectionsAsync","shopSagas","collectionRef","snapShot","put","takeLatest","all","getSnapshotFromUserAuth","signInWithGoogle","signInWithEmail","onGoogleSignInStart","onEmailSignInStart","isUserAuthenticated","signUp","signInAfterSignUp","signOut","updateAddress","onCheckUserSession","onSignOutStart","onSignUpStart","onSignUpSuccess","onUpdateAddressStart","userSagas","userSnapShot","signInWithPopup","signInWithEmailAndPassword","Promise","resolve","reject","unsubscribe","onAuthStateChanged","createUserWithEmailAndPassword","clearCartOnSignOutOrCheckout","checkout","onSignOutSuccess","onPaymentSuccess","cartSagas","select","userSnapshot","stripePayment","onStripePaymentStart","paymentSagas","axios","method","rootSaga","sagaMiddleware","createSagaMiddleware","middlewares","logger","store","createStore","applyMiddleware","run","persistor","persistStore","Boolean","window","location","hostname","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.69fc99ae.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/iSkull-logo.ad8f33fc.png\";","module.exports = __webpack_public_path__ + \"static/media/iSkull-logo-black.f7dd71b5.png\";","import {createSelector} from \"reselect\"\r\n\r\nconst selectCategoryList = (state) => state.categoryList;\r\n\r\nexport const selectCategoryListCategory = createSelector(\r\n    [selectCategoryList], \r\n    categoryList => categoryList.categories\r\n)","import React from \"react\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\n\r\nimport './category.styles.css';\r\n\r\nclass Category extends React.Component {\r\n    render()\r\n    {\r\n        const {title, imageUrl, history, linkUrl, match} = this.props;\r\n        return (\r\n                <div \r\n                onClick={()=> history.push(`${match.url}${linkUrl}`)}\r\n                style={{\r\n                    backgroundImage: `url(${imageUrl})`\r\n                }}\r\n                className=\"category-item\">\r\n                    <div className=\"content\">\r\n                        <h1 className=\"title\">{title}</h1>\r\n                        <span className=\"subtitle\">Shop Now</span>\r\n                    </div>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Category);","import React from \"react\";\r\nimport {connect} from \"react-redux\"\r\nimport {createStructuredSelector} from \"reselect\"\r\n\r\nimport { selectCategoryListCategory } from \"../../redux/categoryList/categoryList.selectors\"\r\n\r\nimport Category from \"../category/category.component\";\r\n\r\nimport \"./categoryList.styles.css\";\r\n\r\nclass CategoryList extends React.Component {\r\n    \r\n    render()\r\n    {\r\n        const {categories} = this.props;\r\n        return (\r\n            <div >\r\n            \r\n                <div className=\"category-list\">\r\n                    {\r\n                        categories.map(({id, ...otherCategoryProps}) => {\r\n                            return <Category key={id} {...otherCategoryProps}/>\r\n                        })\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapSateToProps = createStructuredSelector({\r\n    categories: selectCategoryListCategory\r\n})\r\n\r\nexport default connect(mapSateToProps)(CategoryList);","import React from \"react\";\r\n\r\n\r\nimport CategoryList from \"../../components/categoryList/categoryList.component\"\r\nimport './homepage.styles.css'\r\n\r\n\r\nclass HomePage extends React.Component {\r\n    render()\r\n    {\r\n        return (\r\n            <main className=\"homepage-main\">\r\n                <CategoryList/>\r\n            </main>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default HomePage;","import {createSelector} from \"reselect\";\r\nimport memoize from \"lodash.memoize\";\r\n\r\nconst selectShop = state => state.shop;\r\n\r\nexport const selectCollections = createSelector(\r\n    [selectShop],\r\n    shop => shop.collections\r\n)\r\n\r\nexport const selectCollectionsForPreview = createSelector(\r\n    [selectCollections],\r\n    collections => collections ? Object.keys(collections).map(key => collections[key]) : []\r\n\r\n)\r\n\r\nexport const selectCollection =memoize((collectionUrlParam) =>\r\n    createSelector(\r\n        [selectCollections],\r\n        collections => collections ? collections[collectionUrlParam] : null\r\n));\r\n\r\nexport const selectIsCollectionFetching = createSelector(\r\n    [selectShop],\r\n    shop => shop.isFetching\r\n)\r\nexport const selectIsCollectionLoaded = createSelector(\r\n    [selectShop],\r\n    shop=> !!shop.collections\r\n)","import React from \"react\";\r\nimport './with-spinner.styles.css';\r\n\r\n\r\nconst WithSpinner = WrappedComponent => ({isLoading, ...otherProps}) => {\r\n    return isLoading ? (\r\n        <div className=\"spinner-overlay\">\r\n            <div className=\"spinner-container\">\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        <WrappedComponent {...otherProps} />\r\n    );\r\n}\r\nexport default WithSpinner;","const CartActionTypes = {\r\n    TOGGLE_CART_HIDDEN : \"TOGGLE_CART_HIDDEN\",\r\n    CART_CLICK_OUTSIDE : \"CART_CLICK_OUTSIDE\",\r\n    ADD_ITEM : \"ADD_ITEM\",\r\n    REMOVE_ITEM: \"REMOVE_ITEM\",\r\n    CLEAR_ITEM_FROM_CART : \"CLEAR_ITEM_FROM_CART\",\r\n    CLEAR_CART : \"CLEAR_CART\"\r\n}\r\nexport default CartActionTypes;","import CartActionTypes from \"./cart.types\"\r\n\r\nexport const toggleCartHidden = () => ({\r\n    type: CartActionTypes.TOGGLE_CART_HIDDEN\r\n});\r\n\r\nexport const hideCart = () =>({\r\n    type: CartActionTypes.CART_CLICK_OUTSIDE\r\n})\r\n\r\nexport const addItem = (item) => ({\r\n    type : CartActionTypes.ADD_ITEM,\r\n    payload : item\r\n});\r\n\r\nexport const removeItem = (item) => ({\r\n    type: CartActionTypes.REMOVE_ITEM,\r\n    payload: item\r\n});\r\n\r\nexport const clearItemFromCart = (item) =>({\r\n    type: CartActionTypes.CLEAR_ITEM_FROM_CART,\r\n    payload: item\r\n});\r\n\r\n\r\nexport const clearCart = () => ({\r\n    type : CartActionTypes.CLEAR_CART\r\n});\r\n\r\n","import React from 'react';\r\n\r\nimport './custom-button.styles.css';\r\n\r\nclass CustomButton extends React.Component {\r\n    render(){\r\n        const {children, isGoogleSignIn, inverted, ...otherProps} = this.props;\r\n        return(\r\n            <button \r\n            className={`${isGoogleSignIn?'google-sign-in': ''}\r\n            ${inverted?'inverted': ''}\r\n             custom-button`} {...otherProps}>\r\n                {children}\r\n            </button>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default CustomButton;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {addItem} from \"../../redux/cart/cart.actions\"\r\n\r\nimport CustomButton from \"../custom-button/custom-button.component\";\r\n\r\nimport './collection-item.styles.css';\r\n\r\nclass CollectionItem extends React.Component { \r\n    render()\r\n    {\r\n        const {item, addItem} = this.props;\r\n        const {name, price, imageUrl} = item;\r\n        return(\r\n            <div className=\"collection-item\">\r\n                <div\r\n                className=\"image\"\r\n                style={{\r\n                    backgroundImage: `url(${imageUrl})`\r\n\r\n                }}>\r\n                </div>\r\n                <div className=\"collection-footer\">\r\n                    <span className=\"name\">{ name }</span>\r\n                    <span className=\"price\">Rs.{price}</span>\r\n                </div>\r\n                <CustomButton onClick={()=> addItem(item)} inverted>Add To Cart</CustomButton>\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    addItem : item => dispatch(addItem(item))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(CollectionItem);","import React from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport CollectionItem from \"../collection-item/collection-item.component\"\r\nimport './collection-preview.styles.css'\r\n\r\nclass CollectionPreview extends React.Component {\r\n\r\n    filterItems(items)\r\n    {\r\n        return items.filter((item, idx) => idx < 4)\r\n    }\r\n    render()\r\n    {\r\n        const {title, items, history, match, routeName } = this.props;\r\n        return (\r\n        <div className=\"collection-preview\">\r\n            <div>\r\n            <h1 className=\"title\"\r\n                onClick={() => history.push(`${match.path}/${routeName}`)}\r\n            >\r\n                {title.toUpperCase()}\r\n            </h1>\r\n                <div className='preview'>\r\n                    {\r\n                        this.filterItems(items)\r\n                        .map((item) => (\r\n                            <CollectionItem key={item.id} item={item}/>\r\n                        ))\r\n                    }\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(CollectionPreview);","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nimport CollectionPreview from \"../../components/collection-preview/collection-preview.component\"\r\nimport {selectCollectionsForPreview} from \"../../redux/shop/shop.selector\"\r\n\r\nimport {createStructuredSelector} from \"reselect\"\r\n\r\n\r\nimport \"./collections-overview.styles.css\";\r\n\r\nclass CollectionsOverview extends React.Component {\r\n    render()\r\n    {\r\n        const {collections} = this.props;\r\n        return (\r\n            <div className=\"collections-overview\">\r\n                {\r\n                    collections.map(({id, ...otherCollectionProps}) =>(\r\n                        <CollectionPreview key={id} {...otherCollectionProps} />\r\n                    ))\r\n                }\r\n\r\n\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = createStructuredSelector({\r\n    collections: selectCollectionsForPreview\r\n})\r\nexport default connect(mapStateToProps)(CollectionsOverview);","import {connect} from 'react-redux';\r\nimport {createStructuredSelector} from \"reselect\";\r\nimport {compose} from \"redux\";\r\n\r\nimport {selectIsCollectionFetching} from \"../../redux/shop/shop.selector\";\r\nimport WithSpinner from \"../with-spinner/with-spinner.component\";\r\nimport CollectionsOverview from \"./collections-overview.component\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    isLoading: selectIsCollectionFetching\r\n});\r\n\r\nconst CollectionsOverviewContainer = compose(\r\n    connect(mapStateToProps),\r\n    WithSpinner\r\n)(CollectionsOverview);\r\n\r\nexport default CollectionsOverviewContainer;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {selectCollection} from \"../../redux/shop/shop.selector\";\r\n\r\nimport CollectionItem from \"../../components/collection-item/collection-item.component\"\r\n\r\nimport \"./collection.styles.css\";\r\n\r\nclass CollectionPage extends React.Component {\r\n    render()\r\n    {\r\n        const {collection} = this.props;\r\n        console.log(collection)\r\n        const {title, items} = collection\r\n        return (\r\n            <div className=\"collection-page\">\r\n                <h2 className=\"title\">{title}</h2>\r\n                <div className=\"items\">\r\n                    {\r\n                        items.map(item => <CollectionItem key={item.id} item={item}/>)\r\n                    }\r\n                </div>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    collection: selectCollection(ownProps.match.params.collectionId)(state)\r\n})\r\n\r\nexport default connect(mapStateToProps)(CollectionPage);","import {connect} from 'react-redux';\r\nimport {createStructuredSelector} from \"reselect\";\r\nimport {compose} from \"redux\";\r\n\r\nimport {selectIsCollectionLoaded} from \"../../redux/shop/shop.selector\"\r\nimport WithSpinner from \"../../components/with-spinner/with-spinner.component\";\r\nimport CollectionPage from \"./collection.component\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    isLoading: (state) => !selectIsCollectionLoaded(state)\r\n});\r\n\r\nconst CollectionPageContainer = compose(\r\n    connect(mapStateToProps),\r\n    WithSpinner\r\n)(CollectionPage);\r\n\r\nexport default CollectionPageContainer;","const ShopActionTypes ={\r\n    FETCH_COLLECTIONS_START : 'FETCH_COLLECTIONS_START',\r\n    FETCH_COLLECTIONS_SUCCESS : 'FETCH_COLLECTIONS_SUCCESS',\r\n    FETCH_COLLECTION_FAILURE : 'FETCH_COLLECTION_FAILURE'\r\n}\r\n\r\nexport default ShopActionTypes;","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyBWB96aPA2NGmOA6yrHZYr-xMlIGx10I6E\",\r\n    authDomain: \"iskull-e-commerce-store-db.firebaseapp.com\",\r\n    databaseURL: \"https://iskull-e-commerce-store-db.firebaseio.com\",\r\n    projectId: \"iskull-e-commerce-store-db\",\r\n    storageBucket: \"iskull-e-commerce-store-db.appspot.com\",\r\n    messagingSenderId: \"826787576919\",\r\n    appId: \"1:826787576919:web:73064b13383ce31f857712\",\r\n    measurementId: \"G-L5FWPNT607\"\r\n}\r\n\r\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\r\n    if (!userAuth) return;\r\n\r\n    const userRef = firestore.doc(`users/${userAuth.uid}`);\r\n    const snapShot = await userRef.get();\r\n    \r\n    if (!snapShot.exists)\r\n    {\r\n        const {displayName, email} = userAuth;\r\n        const createdAt = new Date();\r\n\r\n        try{\r\n            await userRef.set({\r\n                displayName,\r\n                email,\r\n                createdAt,\r\n                ...additionalData\r\n            })\r\n\r\n        }\r\n        catch(error){\r\n            console.log('error creating user', error.message);\r\n\r\n        }\r\n    }\r\n    return userRef;\r\n}\r\n\r\nexport const addCartItemsToOrderDetails = async (currentUser, cartItems) => {\r\n    const userRef = firestore.doc(`users/${currentUser.id}`);\r\n    let data = cartItems.map(item => ({item, date : new Date().toUTCString()}));\r\n\r\n    await userRef.update({\r\n        orderHistory : firebase.firestore.FieldValue.arrayUnion(...data)\r\n    })\r\n\r\n    return userRef;\r\n}\r\n\r\n\r\nexport const updateUserAddress = (currentUser, addressData) => {\r\n    const userRef = firestore.doc(`users/${currentUser.id}`)\r\n\r\n    userRef.update({\r\n        address : addressData\r\n    })\r\n    .then(()=>{\r\n        console.log(\"address updated\")\r\n        // currentUser.address = addressData;\r\n    })\r\n    .catch(error =>{\r\n        console.log('error updating address', error.message);\r\n    })\r\n    return userRef;\r\n}\r\n\r\nexport const addCollectionAndDocuments = async  (collectionKey, objectsToAdd) => {\r\n    const collectionRef = firestore.collection(collectionKey);\r\n    \r\n    const batch = firestore.batch();\r\n    objectsToAdd.forEach(obj => {\r\n        const newDocRef = collectionRef.doc();\r\n        batch.set(newDocRef, obj);\r\n    });\r\n\r\n    return await batch.commit()\r\n}\r\n\r\nexport const convertCollectionSnapshotToMap = (collections) => {\r\n    const transformedCollection = collections.docs.map(doc => {\r\n        const {title, items} = doc.data();\r\n        return {\r\n            routeName : encodeURI(title.toLowerCase()),\r\n            id : doc.id,\r\n            title,\r\n            items\r\n        }\r\n    })\r\n    return transformedCollection.reduce((acc, collection) => {\r\n        acc[collection.title.toLowerCase()] = collection\r\n        return acc;\r\n    }, {})\r\n}\r\n\r\nexport const getCurrentUser = () => {\r\n    return new Promise((resolve, reject)=> {\r\n        const unsubscribe = auth.onAuthStateChanged(userAuth => {\r\n            unsubscribe();\r\n            resolve(userAuth);\r\n        }, reject);\r\n    })\r\n}\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\ngoogleProvider.setCustomParameters({prompt:'select_account'})\r\nexport const signInWithGoogle = () => auth.signInWithPopup(googleProvider);\r\n\r\nexport default firebase;","import ShopActionTypes from \"./shop.types\";\r\n\r\nimport {firestore, convertCollectionSnapshotToMap} from \"../../firebase/firebase.utils\";\r\n\r\nexport const fetchCollectionsStart = (collectionsMap) => ({\r\n    type : ShopActionTypes.FETCH_COLLECTIONS_START\r\n});\r\n\r\nexport const fetchCollectionsSuccess = collectionsMap => ({\r\n    type : ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\r\n    payload : collectionsMap\r\n})\r\n\r\nexport const fetchCollectionsFailure = errorMessage => ({\r\n    type : ShopActionTypes.FETCH_COLLECTION_FAILURE,\r\n    payload : errorMessage\r\n})\r\n\r\nexport const fetchCollectionsStartAsync = () => {\r\n    return dispatch => {\r\n        const collectionRef = firestore.collection('collections');\r\n        dispatch(fetchCollectionsStart());\r\n\r\n        collectionRef.get()\r\n        .then((snapShot) => {\r\n            const collectionsMap = convertCollectionSnapshotToMap(snapShot);\r\n            dispatch(fetchCollectionsSuccess(collectionsMap))\r\n        })\r\n        .catch(error =>{\r\n            dispatch(fetchCollectionsFailure(error.message))\r\n        } )\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport {Route} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport CollectionsOverviewContainer from \"../../components/collections-overview/collections-overview.container\";\r\nimport CollectionPageContainer from \"../collection/collection.container\";\r\n\r\nimport { fetchCollectionsStart } from \"../../redux/shop/shop.actions\";\r\n\r\n\r\nimport \"./shop.styles.css\";\r\n\r\nclass ShopPage extends React.Component {\r\n\r\n    unsubscribeFromSnapshot = null;\r\n    \r\n    componentDidMount(){\r\n        const {fetchCollectionsStart} = this.props;\r\n        fetchCollectionsStart()\r\n        \r\n    }\r\n    render()\r\n    {\r\n        const {match} = this.props;\r\n        return (\r\n            <div className=\"shop-page\">\r\n                <Route \r\n                    exact path ={`${match.path}`} \r\n                    component = {CollectionsOverviewContainer} />\r\n                <Route \r\n                    path={`${match.path}/:collectionId`} \r\n                    component = {CollectionPageContainer} />\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchCollectionsStart: ()=> dispatch(fetchCollectionsStart())\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(ShopPage);","import {createSelector} from \"reselect\";\r\n\r\nconst selectCart = (state) => {\r\n    return state.cart;\r\n}\r\n\r\nexport const selectCartItems = createSelector(\r\n    [selectCart],\r\n    (cart) => (cart.cartItems)\r\n)\r\n\r\nexport const selectCartItemsCount = createSelector(\r\n    [selectCartItems],\r\n    (cartItems) => cartItems.reduce((accumlator, cartItem)=>{\r\n        return accumlator + cartItem.quantity\r\n    }, 0)\r\n)\r\n\r\nexport const selectCartHidden = createSelector(\r\n    [selectCart],\r\n    cart => cart.hidden\r\n)\r\n\r\nexport const selectCartTotal = createSelector(\r\n    [selectCartItems],\r\n    (cartItems) => cartItems.reduce((accumlator, cartItem)=>{\r\n        return accumlator + cartItem.quantity*cartItem.price\r\n    }, 0)\r\n\r\n)","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M404.054,383.278H198.553l-12.701-50.805h268.561l57.588-230.353H128.264l-20.241-80.965H0v30.159h84.475l83.292,333.168 c-24.247,5.207-42.482,26.8-42.482,52.58c0,29.656,24.127,53.783,53.784,53.783c29.657,0,53.784-24.128,53.784-53.783 c0-8.472-1.975-16.489-5.48-23.625H355.75c-3.505,7.136-5.48,15.153-5.48,23.625c0,29.656,24.128,53.783,53.784,53.783 s53.784-24.128,53.784-53.783C457.837,407.406,433.709,383.278,404.054,383.278z M135.803,132.279h337.57l-42.509,170.034H178.312 L135.803,132.279z M179.069,460.686c-13.027,0-23.625-10.598-23.625-23.624c0-13.027,10.598-23.625,23.625-23.625 c13.027,0,23.625,10.598,23.625,23.625C202.694,450.088,192.096,460.686,179.069,460.686z M404.054,460.686 c-13.027,0-23.625-10.598-23.625-23.624c0-13.027,10.598-23.625,23.625-23.625c13.027,0,23.625,10.598,23.625,23.625 C427.677,450.088,417.08,460.686,404.054,460.686z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgShoppingCart = function SvgShoppingCart(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512.001 512.001\",\n    style: {\n      enableBackground: \"new 0 0 512.001 512.001\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgShoppingCart, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/shopping-cart.67ba9c13.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {toggleCartHidden} from \"../../redux/cart/cart.actions\";\r\nimport {selectCartItemsCount} from \"../../redux/cart/cart.selectors\";\r\nimport {createStructuredSelector} from \"reselect\";\r\n\r\nimport {ReactComponent as ShoppingIcon} from \"../../assets/images/shopping-cart.svg\"\r\n\r\nimport \"./cart-icon.styles.css\";\r\n\r\n\r\nclass CartIcon extends React.Component{\r\n    render(){\r\n        const {toggleCartHidden, itemCount} = this.props;\r\n        return (\r\n            <div className=\"cart-icon\" onClick={toggleCartHidden}>\r\n                <ShoppingIcon className=\"shopping-icon\"/>\r\n                <span className = \"item-count\">{itemCount}</span>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    itemCount: selectCartItemsCount\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    toggleCartHidden: () => dispatch(toggleCartHidden())\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartIcon);","import React from \"react\";\r\n\r\nimport \"./cart-item.styles.css\";\r\n\r\nclass CartItem extends React.Component {\r\n    render(){\r\n        const {item:{imageUrl, price, name, quantity}} = this.props;\r\n        return (\r\n            <div className=\"cart-item\">\r\n                <img className=\"image\" src = {imageUrl} alt=\"item\" />\r\n                <div className=\"item-details\">\r\n                    <span className=\"name\">{name}</span>\r\n                    <span className=\"price\">{quantity}x ${price}</span>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default CartItem;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {createStructuredSelector} from \"reselect\";\r\n\r\nimport CustomButton from \"../custom-button/custom-button.component\";\r\nimport CartItem from \"../cart-item/cart-item.component\";\r\nimport {selectCartItems} from \"../../redux/cart/cart.selectors\";\r\nimport {toggleCartHidden, hideCart} from \"../../redux/cart/cart.actions\";\r\n\r\nimport \"./cart-dropdown.styles.css\";\r\n\r\nclass CartDropdown extends React.Component {\r\n    componentDidMount(){\r\n        document.addEventListener(\"click\", this.handleClick, false);\r\n    }\r\n    componentWillUnmount(){\r\n        document.removeEventListener(\"click\",this.handleClick, false);\r\n    }\r\n    handleClick = event => {\r\n        \r\n        if (!ReactDOM.findDOMNode(this).contains(event.target)){\r\n            this.props.hideCart()\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        const {cartItems, history, toggleCartHidden} = this.props;\r\n        return (\r\n            <div className=\"cart-dropdown\">\r\n                <div className=\"cart-items\" >\r\n                    {\r\n                        cartItems.length ?\r\n                            cartItems.map(cartItem =>(\r\n                                <CartItem key={cartItem.id} item={cartItem}/>\r\n                            )):\r\n                            <span className=\"empty-message\">Your Cart is Empty</span>\r\n                    }\r\n\r\n                </div>\r\n                <CustomButton onClick ={()=> {\r\n                    history.push(\"/checkout\")\r\n                    toggleCartHidden()\r\n                    }}>\r\n                    GO TO CHECKOUT\r\n                </CustomButton>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    cartItems: selectCartItems\r\n});\r\n\r\nconst mapDispatchToProps = dispatch =>({\r\n    toggleCartHidden : () => dispatch(toggleCartHidden()),\r\n    hideCart : () => dispatch(hideCart())\r\n})\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CartDropdown));","const UserActionTypes = {\r\n    SET_CURRENT_USER :\"SET_CURRENT_USER\",\r\n    \r\n    GOOGLE_SIGN_IN_START : \"GOOGLE_SIGN_IN_START\",\r\n    EMAIL_SIGN_IN_START : \"EMAIL_SIGN_IN_START\",\r\n    SIGN_IN_SUCCESS : \"SIGN_IN_SUCCESS\",\r\n    SIGN_IN_FAILURE : \"SIGN_IN_FAILURE\",\r\n    CHECK_USER_SESSION : \"CHECK_USER_SESSION\",\r\n    SIGN_OUT_START : \"SIGN_OUT_START\",\r\n    SIGN_OUT_SUCCESS : \"SIGN_OUT_SUCCESS\",\r\n    SIGN_OUT_FAILURE : \"SIGN_OUT_FAILURE\",\r\n    SIGN_UP_START : \"SIGN_UP_START\",\r\n    SIGN_UP_SUCCESS : \"SIGN_UP_SUCCESS\",\r\n    SIGN_UP_FAILURE : \"SIGN_UP_FAILURE\",\r\n\r\n    UPDATE_ADDRESS_START : \"UPDATE_ADDRESS_START\",\r\n    UPDATE_ADDRESS_SUCCESS : \"UPDATE_ADDRESS_SUCCESS\",\r\n    UPDATE_ADDRESS_FAILURE : \"UPDATE_ADDRESS_FAILURE\",\r\n\r\n    TOGGLE_USER_DROPDOWN_HIDDEN: \"TOGGLE_USER_DROPDOWN_HIDDEN\",\r\n    USER_DROPDOWN_CLICKED_OUTSIDE : \"USER_DROPDOWN_CLICKED_OUTSIDE\",\r\n    SHOW_USER_INFORMATION : \"SHOW_USER_INFORMATION\",\r\n    SHOW_ORDER_HISTORY : \"SHOW_ORDER_HISTORY\",\r\n\r\n    GET_ORDER_HISTORY : \"GET_ORDER_HISTORY\"\r\n}\r\n\r\nexport default UserActionTypes;","import UserActionTypes from \"./user.types\"\r\n\r\nexport const setCurrentUser = user => ({\r\n    type: UserActionTypes.SET_CURRENT_USER,\r\n    payload: user\r\n})\r\n\r\nexport const googleSignInStart = () => ({\r\n    type : UserActionTypes.GOOGLE_SIGN_IN_START\r\n})\r\n\r\nexport const signInSuccess = user => ({\r\n    type : UserActionTypes.SIGN_IN_SUCCESS,\r\n    payload : user\r\n})\r\n\r\nexport const signInFailure = error => ({\r\n    type : UserActionTypes.SIGN_IN_FAILURE,\r\n    payload : error\r\n})\r\n\r\nexport const emailSignInStart = emailAndPassword => ({\r\n    type : UserActionTypes.EMAIL_SIGN_IN_START,\r\n    payload : emailAndPassword\r\n})\r\n\r\nexport const checkUserSession  = () => ({\r\n    type : UserActionTypes.CHECK_USER_SESSION\r\n})\r\n\r\nexport const signOutStart = () => ({\r\n    type : UserActionTypes.SIGN_OUT_START\r\n})\r\n\r\nexport const signOutSuccess = () => ({\r\n    type : UserActionTypes.SIGN_OUT_SUCCESS\r\n})\r\n\r\nexport const signOutFailure = error => ({\r\n    type : UserActionTypes.SIGN_IN_FAILURE,\r\n    payload : error\r\n})\r\n\r\nexport const toggleUserDropdownHidden = () => ({\r\n    type: UserActionTypes.TOGGLE_USER_DROPDOWN_HIDDEN\r\n})\r\n\r\nexport const hideUserDropdown = () => ({\r\n    type: UserActionTypes.USER_DROPDOWN_CLICKED_OUTSIDE\r\n})\r\n\r\nexport const showUserInformation = () => ({\r\n    type: UserActionTypes.SHOW_USER_INFORMATION\r\n})\r\n\r\nexport const showOrderHistory = () => ({\r\n    type: UserActionTypes.SHOW_ORDER_HISTORY\r\n})\r\n\r\nexport const signUpStart = (userCredentials) => ({\r\n    type : UserActionTypes.SIGN_UP_START,\r\n    payload : userCredentials\r\n});\r\n\r\nexport const signUpSuccess = ({user, additionalData}) => ({\r\n    type : UserActionTypes.SIGN_UP_SUCCESS,\r\n    payload : {user, additionalData}\r\n});\r\n\r\nexport const signUpFailure = (error) => ({\r\n    type : UserActionTypes.SIGN_UP_FAILURE,\r\n    payload : error\r\n})\r\n\r\nexport const updateAddressStart = ({currentUser, address}) => ({\r\n    type : UserActionTypes.UPDATE_ADDRESS_START,\r\n    payload : {currentUser, address}\r\n})\r\n\r\nexport const updateAddressSuccess= (currentUser)=>({\r\n    type : UserActionTypes.UPDATE_ADDRESS_SUCCESS,\r\n    payload : currentUser\r\n})\r\n\r\nexport const updateAddressFailure = (error) => ({\r\n    type : UserActionTypes.UPDATE_ADDRESS_FAILURE,\r\n    payload : error\r\n})\r\n\r\nexport const getOrderHistory = (currentUser)=>({\r\n    type : UserActionTypes.GET_ORDER_HISTORY,\r\n    payload : currentUser\r\n})","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M324.194,220.526c-6.172,7.772-13.106,14.947-21.07,21.423c45.459,26.076,76.149,75.1,76.149,131.158 c0,30.29-66.367,54.018-151.09,54.018s-151.09-23.728-151.09-54.018c0-56.058,30.69-105.082,76.149-131.158 c-7.963-6.476-14.897-13.65-21.07-21.423c-50.624,31.969-84.322,88.41-84.322,152.581c0,19.439,10.644,46.53,61.355,65.201 c31.632,11.647,73.886,18.06,118.979,18.06c45.093,0,87.347-6.413,118.979-18.06c50.71-18.671,61.355-45.762,61.355-65.201 C408.516,308.936,374.818,252.495,324.194,220.526z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M228.182,239.795c56.833,0,100.597-54.936,100.597-119.897C328.779,54.907,284.993,0,228.182,0 c-56.833,0-100.597,54.936-100.597,119.897C127.585,184.888,171.372,239.795,228.182,239.795z M228.182,29.243 c39.344,0,71.354,40.667,71.354,90.654s-32.01,90.654-71.354,90.654s-71.354-40.667-71.354-90.654S188.838,29.243,228.182,29.243 z\"\n}))));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgUser = function SvgUser(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 456.368 456.368\",\n    style: {\n      enableBackground: \"new 0 0 456.368 456.368\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUser, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/user.98153c40.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {toggleUserDropdownHidden} from \"../../redux/user/user.actions\";\r\n\r\nimport {ReactComponent as UserIcon} from \"../../assets/images/user.svg\";\r\n\r\nimport \"./user-icon.styles.css\";\r\n\r\n\r\nclass UserProfileIcon extends React.Component{\r\n    \r\n    render(){\r\n        const {toggleUserDropdownHidden} = this.props;\r\n        return (\r\n            <div className=\"user-profile-icon\" onClick={toggleUserDropdownHidden}>\r\n                <UserIcon className=\"user-icon\"/>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n    toggleUserDropdownHidden : () => dispatch(toggleUserDropdownHidden())\r\n})\r\nexport default connect(null,mapDispatchToProps )(UserProfileIcon);","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {hideUserDropdown, showUserInformation, showOrderHistory} from \"../../redux/user/user.actions\";\r\n\r\n\r\nimport \"./user-dropdown.styles.css\";\r\n\r\nclass UserDropdown extends React.Component{\r\n\r\n    componentDidMount(){\r\n        document.addEventListener(\"click\", this.handleClick, false);\r\n    }\r\n    componentWillUnmount(){\r\n        document.removeEventListener(\"click\",this.handleClick, false);\r\n    }\r\n    handleClick = event => {\r\n        \r\n        if (!ReactDOM.findDOMNode(this).contains(event.target)){\r\n            this.props.hideUserDropdown();\r\n        }\r\n    }\r\n    render()\r\n    {\r\n        const {showUserInformation, showOrderHistory, history} = this.props;\r\n        return(\r\n            <div className=\"user-dropdown\">\r\n                <div className=\"user-options\">                    \r\n                    <span \r\n                    className=\"option\"\r\n                    onClick = {() =>{\r\n                        history.push(\"/user-profile\")\r\n                        showUserInformation()\r\n                    }}\r\n                    >\r\n                        Your Profile\r\n                    </span>\r\n                    <span \r\n                    className=\"option\"\r\n                    onClick = {() =>{\r\n                        history.push(\"/user-profile\")\r\n                        showOrderHistory()\r\n                    }}\r\n                    >\r\n                        Order History\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    hideUserDropdown : () => dispatch(hideUserDropdown()),\r\n    showUserInformation : () => dispatch(showUserInformation()),\r\n    showOrderHistory : () => dispatch(showOrderHistory())\r\n})\r\nexport default withRouter(connect(null, mapDispatchToProps)(UserDropdown));","import {createSelector} from \"reselect\";\r\n\r\nconst selectUser = state => state.user;\r\n\r\nexport const selectCurrentUser = createSelector(\r\n    [selectUser],\r\n    (user) => user.currentUser\r\n)\r\n\r\nexport const selectOrderHistory = createSelector(\r\n    [selectCurrentUser],\r\n    (currentUser) => currentUser.orderHistory\r\n)\r\n\r\nexport const selectUserDropdownHidden = createSelector(\r\n    [selectUser],\r\n    (user) => user.hidden\r\n)\r\n\r\nexport const selectShowUserInformation = createSelector(\r\n    [selectUser],\r\n    (user) => user.showUserInformtion\r\n)\r\n\r\nexport const selectShowOrderHistory = createSelector(\r\n    [selectUser],\r\n    (user) => user.showOrderHistory\r\n)","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from \"react-redux\";\r\nimport {createStructuredSelector} from \"reselect\";\r\n\r\nimport CartIcon from \"../cart-icon/cart-icon.component\";\r\nimport CartDropdown from \"../cart-dropdown/cart-dropdown.component\";\r\nimport UserProfileIcon from \"../user-icon/user-icon.component\";\r\nimport UserDropdown from \"../user-dropdown/user-dropdown.component\";\r\n\r\nimport {selectCartHidden} from \"../../redux/cart/cart.selectors\";\r\nimport {selectCurrentUser, selectUserDropdownHidden} from \"../../redux/user/user.selector\";\r\nimport {signOutStart} from \"../../redux/user/user.actions\";\r\n\r\nimport './header.styles.css';\r\nimport logo from '../../assets/logos/iSkull-logo.png';\r\n\r\nclass Header extends React.Component{\r\n    render()\r\n    {\r\n        const {currentUser, cartHidden, userDropdownHidden, signOutStart} = this.props;\r\n        return (\r\n            <div className=\"header\">\r\n                    <Link to=\"/\" className=\"logo\">\r\n                        <img src = {logo} alt=\"logo\"/>\r\n                        <span className=\"logo-text\">Mart</span>\r\n                    </Link>\r\n                \r\n                <div className=\"options\">\r\n                    \r\n                    <Link className=\"option\" to=\"/shop\">SHOP</Link>\r\n                    {/* <Link className=\"option\" to=\"/shop\">CONTACT</Link> */}\r\n                    {\r\n                        currentUser ? (\r\n                        <div className=\"option\" onClick={signOutStart}>\r\n                            SIGN OUT\r\n                        </div>\r\n                        )\r\n                        : \r\n                        (<Link className=\"option\" to=\"/signin\">\r\n                            SIGN IN\r\n                        </Link>\r\n                    )}\r\n                    <UserProfileIcon />\r\n                    <CartIcon />\r\n                    \r\n                </div>\r\n                {cartHidden? null : <CartDropdown />}\r\n                {userDropdownHidden? null: <UserDropdown /> }\r\n                \r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    currentUser: selectCurrentUser,\r\n    cartHidden: selectCartHidden,\r\n    userDropdownHidden: selectUserDropdownHidden\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    signOutStart : ()=> dispatch(signOutStart())\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","import React from \"react\";\r\n\r\n\r\n\r\nimport './form-input.styles.css'\r\n\r\n\r\nclass FormInput extends React.Component {\r\n    render()\r\n    {\r\n        const {handleChange, label,isGreyBackground, isBlueBackground, ...otherProps} = this.props;\r\n        return (\r\n           <div className=\"group\">\r\n               <input \r\n               className=\"form-input\"\r\n               onChange={handleChange}\r\n               {...otherProps}\r\n               />\r\n               {\r\n                   label?\r\n                   (<label className={`label-name`}>\r\n                      <span className=\"content-name\">{label}</span>\r\n                   </label>)\r\n                   : null\r\n               }\r\n\r\n           </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default FormInput;","import React from \"react\";\r\nimport {connect} from \"react-redux\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport FormInput from \"../../components/form-input/form-input.component\"\r\nimport CustomButton from \"../../components/custom-button/custom-button.component\"\r\n\r\nimport {googleSignInStart, emailSignInStart} from \"../../redux/user/user.actions\"\r\n\r\nimport './sign-in.styles.css'\r\n\r\n\r\n\r\nclass SignIn extends React.Component {\r\n    constructor()\r\n    {\r\n        super();\r\n        this.state = {\r\n            email: \"\",\r\n            password:\"\"\r\n        }\r\n    }\r\n\r\n    handleSubmit = async (event) =>{\r\n        event.preventDefault();\r\n        const {emailSignInStart} = this.props;\r\n        const {email, password} = this.state;\r\n\r\n        emailSignInStart(email, password);\r\n        \r\n    }\r\n    handleChange = (event) => {\r\n        const {value, name} = event.target;\r\n        this.setState({[name]:value})\r\n\r\n    }\r\n    render()\r\n    {\r\n        const {googleSignInStart} = this.props;\r\n        return (\r\n\r\n            <div className=\"sign-in\">\r\n                <h1>Sign In</h1>\r\n                <form onSubmit={this.handleSubmit} className=\"form\">\r\n                    <FormInput \r\n                    name=\"email\" \r\n                    type=\"email\" \r\n                    label = \"Email\"\r\n                    isGreyBackground\r\n                    value={this.state.email} \r\n                    onChange={this.handleChange}\r\n                    required/>\r\n                    \r\n                    <FormInput \r\n                    name=\"password\" \r\n                    type=\"password\" \r\n                    label=\"Password\"\r\n                    value={this.state.password} \r\n                    onChange={this.handleChange}\r\n                    required/>\r\n                    \r\n                    <div className=\"buttons\">\r\n                        <CustomButton  type=\"submit\">Sign In  </CustomButton>\r\n                        <CustomButton  type=\"button\" onClick={googleSignInStart} isGoogleSignIn>Sign In with Google  </CustomButton>\r\n                    </div>\r\n                </form>     \r\n                 \r\n                <Link to=\"/register\">\r\n                    Dont have an account? Register Here \r\n                </Link>          \r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    googleSignInStart : () => dispatch(googleSignInStart()),\r\n    emailSignInStart : (email, password) => dispatch(emailSignInStart({email, password}))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(SignIn);","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport FormInput from \"../../components/form-input/form-input.component\"\r\nimport CustomButton from \"../../components/custom-button/custom-button.component\"\r\n\r\nimport {signUpStart} from \"../../redux/user/user.actions\"\r\n\r\nimport './register.styles.css'\r\n\r\n\r\nclass Register extends React.Component {\r\n    constructor()\r\n    {\r\n        super();\r\n        this.state = {\r\n            displayName: \"\",\r\n            email:\"\",\r\n            password:\"\",\r\n            confirmPassword:\"\"\r\n        }\r\n    }\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const {signUpStart} = this.props;\r\n        const {displayName, email, password, confirmPassword} = this.state;\r\n        if (password !== confirmPassword){\r\n            alert(\"Passwords dont match\");\r\n            return;\r\n        }\r\n\r\n        signUpStart({displayName, email, password});\r\n\r\n    }\r\n    handleChange = event => {\r\n        const {name, value} = event.target;\r\n        this.setState({[name]:value})\r\n    }\r\n    render()\r\n    {\r\n        const {displayName, email, password, confirmPassword} = this.state;\r\n        return (\r\n            <div className=\"register\">\r\n                <h1>Register</h1>\r\n                <form onSubmit={this.handleSubmit} className=\"form\">\r\n                    <FormInput \r\n                        name=\"displayName\" \r\n                        type=\"text\" \r\n                        label = \"Name\"\r\n                        value={displayName} \r\n                        onChange={this.handleChange}\r\n                        required/>\r\n\r\n                    <FormInput \r\n                        name=\"email\" \r\n                        type=\"email\" \r\n                        label = \"Email\"\r\n                        value={email} \r\n                        onChange={this.handleChange}\r\n                        required/>\r\n\r\n                    <FormInput \r\n                        name=\"password\" \r\n                        type=\"password\" \r\n                        label = \"Password\"\r\n                        value={password} \r\n                        onChange={this.handleChange}\r\n                        required/>\r\n\r\n                    <FormInput \r\n                        name=\"confirmPassword\" \r\n                        type=\"password\" \r\n                        label = \"Confirm Password\"\r\n                        value={confirmPassword} \r\n                        onChange={this.handleChange}\r\n                        required/>\r\n\r\n                    <div className=\"buttons\">\r\n                        <CustomButton  type=\"submit\">Register</CustomButton>\r\n                    </div>\r\n                </form>\r\n                \r\n                \r\n                <Link to=\"/signin\">\r\n                    Already have an account? Sign In Here\r\n                </Link>    \r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    signUpStart : userCredentials => dispatch(signUpStart(userCredentials))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(Register);","import React from \"react\";\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {clearItemFromCart, addItem, removeItem} from \"../../redux/cart/cart.actions\";\r\n\r\nimport \"./checkout-item.styles.css\";\r\n\r\nclass CheckoutItem extends React.Component{\r\n    render(){\r\n        const {cartItem, clearItem, addItem, removeItem} = this.props;\r\n        const  { name, imageUrl, price, quantity } = cartItem;\r\n        return(\r\n            <div className='checkout-item'>\r\n                <div className='image-container'>\r\n                    <img className=\"image\" src={imageUrl} alt='item' />\r\n                </div>\r\n                <span className='name'>{name}</span>\r\n                <span className='quantity'>\r\n                    <div className=\"arrow\" onClick={()=> removeItem(cartItem)}>&#10094;</div>\r\n                    <span className=\"value\">{quantity}</span>\r\n                    <div className=\"arrow\" onClick={()=> addItem(cartItem)}>&#10095;</div>\r\n                </span>\r\n                <span className='price'>{price}</span>\r\n                <div className='remove-button' onClick={()=> clearItem(cartItem)}>&#10005;</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    clearItem: item => dispatch(clearItemFromCart(item)),\r\n    addItem: item => dispatch(addItem(item)),\r\n    removeItem: item => dispatch(removeItem(item))\r\n})\r\nexport default connect(null, mapDispatchToProps)(CheckoutItem);","const PaymentActionTypes = {\r\n    STRIPE_PAYMENT_START : \"STRIPE_PAYMENT_START\",\r\n    STRIPE_PAYMENT_SUCCESS : \"STRIPE_PAYMENT_SUCCESS\",\r\n    STRIPE_PAYMENT_FAILURE : \"STRIPE_PAYMENT_FAILURE\"\r\n}\r\n\r\nexport default PaymentActionTypes;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\n\r\nimport logo from \"../../assets/logos/iSkull-logo-black.png\";\r\nimport {clearCart} from \"../../redux/cart/cart.actions\";\r\nimport {stripePaymentStart} from \"../../redux/payment/payment.actions\";\r\n\r\nimport \"./stripe-button.styles.css\";\r\n\r\nconst StripeCheckoutButton = ({ price, isDisabled, stripePaymentStart, clearCart }) => {\r\n    const priceForStripe = price * 100;\r\n    const publishableKey = 'pk_test_51HIzhqHUpjXJWLO5k1i9ksq4iOa1lfyAw5xMHMf12yjVqbh17jDSSvZuk5bXLsn281jXXRozmfYg2TIt1G6YyBFt00Cjm22Bte';\r\n  \r\n    const onToken = token => {\r\n\r\n      let stripeData = {\r\n        amount : priceForStripe,\r\n        token : token\r\n      }\r\n      stripePaymentStart(stripeData); \r\n    };\r\n    return (\r\n      <StripeCheckout\r\n        label='Pay Now'\r\n        name='iSkull Mart'\r\n        currency = \"INR\"\r\n        // billingAddress\r\n        // shippingAddress\r\n        allowRememberMe={false}\r\n        image={logo}\r\n        description={`Your total is Rs. ${price}`}\r\n        amount={priceForStripe}\r\n        panelLabel='Pay Now'\r\n        token={onToken}\r\n        stripeKey={publishableKey}\r\n        disabled = {isDisabled}\r\n      />\r\n    );\r\n  };\r\n  \r\n  const mapDispatchToProps = dispatch =>({\r\n    clearCart : () => dispatch(clearCart()),\r\n    stripePaymentStart : (stripeData) => dispatch(stripePaymentStart(stripeData))\r\n  });\r\nexport default connect(null, mapDispatchToProps)(StripeCheckoutButton);","import PaymentActionTypes from \"./payment.types\";\r\n\r\nexport const stripePaymentStart = (stripeData) => ({\r\n    type  : PaymentActionTypes.STRIPE_PAYMENT_START,\r\n    payload : stripeData\r\n})\r\n\r\nexport const stripePaymentSuccess = () => ({\r\n    type : PaymentActionTypes.STRIPE_PAYMENT_SUCCESS\r\n})\r\nexport const stripePaymentFailure = (error) => ({\r\n    type : PaymentActionTypes.STRIPE_PAYMENT_FAILURE,\r\n    payload : error\r\n})","import React from 'react';\r\n\r\nimport \"./checkout-error-message.styles.css\"\r\n\r\nclass CheckoutErrorMessage extends React.Component{\r\n\r\n    render()\r\n    {\r\n        const {message} = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                {\r\n                    message ? (\r\n                        <div className =\"checkout-error-container\">\r\n                            {message}\r\n                        </div>\r\n                    ) : null\r\n                }\r\n            </React.Fragment>           \r\n        );\r\n    }\r\n}\r\n\r\nexport default CheckoutErrorMessage;","import React from \"react\";\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {createStructuredSelector} from \"reselect\";\r\n\r\nimport CheckoutItem from \"../../components/checkout-item/checkout-item.component\";\r\nimport StripeCheckoutButton from \"../../components/stripe-button/stripe-button.component\";\r\nimport CheckoutErrorMessgae from \"../../components/checkout-error-message/checkout-error-message.component\";\r\n\r\nimport {selectCartItems, selectCartTotal} from \"../../redux/cart/cart.selectors\";\r\nimport { selectCurrentUser } from \"../../redux/user/user.selector\"\r\nimport \"./checkout.styles.css\";\r\n\r\nclass Checkout extends React.Component{\r\n    render(){\r\n        const {cartItems, total, currentUser} = this.props;\r\n        return(\r\n            <div className='checkout-page'>\r\n                <div className='checkout-header'>\r\n                <div className='header-block'>\r\n                    <span>Product</span>\r\n                </div>\r\n                <div className='header-block'>\r\n                    <span>Description</span>\r\n                </div>\r\n                <div className='header-block'>\r\n                    <span>Quantity</span>\r\n                </div>\r\n                <div className='header-block'>\r\n                    <span>Price</span>\r\n                </div>\r\n                <div className='header-block'>\r\n                    <span>Remove</span>\r\n                </div>\r\n                </div>\r\n                {cartItems.map(cartItem => (\r\n                <CheckoutItem key={cartItem.id} cartItem={cartItem} />\r\n                ))}\r\n                <div className='total'>TOTAL: Rs. {total}</div>\r\n                <div className = \"test-warning\">\r\n                    <span className=\"message\">*Please use the following test credit card for payments*</span>\r\n                    <span className=\"message\">Credit Card Number : 4242 4242 4242 4242</span>\r\n                    <span className=\"message\">Expiry Date : Any Future Date</span>\r\n                    <span className=\"message\">CVV : Any 3 digit Number</span>\r\n                </div>\r\n\r\n                {\r\n                    total === 0 ? (\r\n                        <React.Fragment>\r\n                            <StripeCheckoutButton className=\"pay\" price={total} isDisabled={true}/>\r\n                            <CheckoutErrorMessgae message={\"Add some items into the cart !!!\"} /> \r\n                        </React.Fragment>\r\n                    ) :(\r\n                        currentUser ? (\r\n                            currentUser.address ? (\r\n                                <React.Fragment>\r\n                                    <StripeCheckoutButton className=\"pay\" price={total} isDisabled={false}/>\r\n                                </React.Fragment>\r\n                            ) : (\r\n                                <React.Fragment>\r\n                                <StripeCheckoutButton className=\"pay\" price={total} isDisabled={true}/>\r\n                                <CheckoutErrorMessgae message={\"Add address in your profile\"} /> \r\n                            </React.Fragment>\r\n                            )\r\n                        ) : (\r\n                            <React.Fragment>\r\n                                <StripeCheckoutButton className=\"pay\" price={total} isDisabled={true}/>\r\n                                <CheckoutErrorMessgae message={\"Sign In\"} /> \r\n                            </React.Fragment>\r\n                        )\r\n                    )\r\n                }                \r\n            </div>\r\n                        \r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    cartItems: selectCartItems,\r\n    total: selectCartTotal,\r\n    currentUser : selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(Checkout);","import React from 'react';\r\nimport \"./footer.styles.css\";\r\n\r\nclass Footer extends React.Component{\r\n    render(){\r\n        return(\r\n            <footer className=\"footer\">\r\n                <span className=\"message\">\r\n                    Icons made by Freepik from <a href=\"www.flaticon.com\">www.flaticon.com</a>\r\n                </span>\r\n            </footer>\r\n        );\r\n    }\r\n}\r\nexport default Footer;","import React from \"react\";\r\n\r\nimport {ReactComponent as UserIcon} from \"../../assets/images/user.svg\";\r\n\r\nimport \"./user-image.styles.css\";\r\nclass UserImage extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"user-image-container\">\r\n                    <UserIcon className=\"user-image-icon\"/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default UserImage;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {showUserInformation, showOrderHistory} from \"../../redux/user/user.actions\";\r\nimport \"./user-dashboard.styles.css\";\r\n\r\nclass UserDashboard extends React.Component{\r\n    render(){\r\n        const {showUserInformation, showOrderHistory} = this.props;\r\n        return(\r\n            <div className=\"user-dashboard-container\">\r\n                <div className=\"options\">\r\n                    <span className=\"option\" \r\n                    onClick = {() =>{\r\n                        showUserInformation()\r\n                    }}\r\n                    >\r\n                        User Information\r\n                    </span>\r\n                    <span className=\"option\" \r\n                    onClick = {() =>{\r\n                        showOrderHistory()\r\n                    }}\r\n                    >Order History</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    showUserInformation : () => dispatch(showUserInformation()),\r\n    showOrderHistory : () => dispatch(showOrderHistory())\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(UserDashboard);","import React from 'react';\r\n\r\nimport \"./address-item.styles.css\";\r\n\r\n\r\nclass AddressItem extends React.Component{\r\n    render(){\r\n        const {label, value, handleChange, ...otherProps} = this.props;\r\n        return(\r\n            <div className=\"address-item\">\r\n                <label className=\"address-label\">{label}</label>\r\n                <div className=\"address-input\">\r\n                    <input\r\n                        type=\"text\"\r\n                        defaultValue={value}\r\n                        onChange={handleChange}\r\n                        required\r\n                        {...otherProps}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default AddressItem;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {createStructuredSelector} from \"reselect\";\r\n\r\nimport AddressItem from \"../address-item/address-item.component\";\r\nimport CustomButton from \"../custom-button/custom-button.component\";\r\n\r\nimport {selectCurrentUser} from \"../../redux/user/user.selector\";\r\nimport {updateAddressStart} from \"../../redux/user/user.actions\";\r\n\r\nimport \"./user-address.styles.css\";\r\n\r\nclass UserAddressForm extends React.Component {\r\n    state = {\r\n        houseNo : this.props.currentUser.address ? this.props.currentUser.address.houseNo :\"\",\r\n        street : this.props.currentUser.address ? this.props.currentUser.address.street :\"\",\r\n        city : this.props.currentUser.address ? this.props.currentUser.address.city :\"\",\r\n        state : this.props.currentUser.address ? this.props.currentUser.address.state :\"\",\r\n        zipCode : this.props.currentUser.address ? this.props.currentUser.address.zipCode :\"\",\r\n        country : this.props.currentUser.address ? this.props.currentUser.address.country :\"\",\r\n    }\r\n\r\n    handleSubmit = async (event) =>{\r\n        event.preventDefault();\r\n\r\n        const {houseNo, street, city, state, zipCode, country} = this.state;\r\n        const {currentUser, updateAddressStart} = this.props;\r\n        const address = {\r\n            houseNo, street, city, state, zipCode, country\r\n        }\r\n\r\n        updateAddressStart({currentUser, address});\r\n        // alert(\"Address Updated\")\r\n\r\n        // try{\r\n        //     await updateUserAddress(currentUser, address);\r\n        //     alert(\"Address Updated\")\r\n        // }\r\n        // catch(error){\r\n        //     alert(\"Error in updating address\")\r\n        //     console.error(error);\r\n        // }\r\n    }\r\n    handleChange = (event) => {\r\n        const {name, value} = event.target;\r\n        this.setState({[name]:value})\r\n    }\r\n\r\n    render()\r\n    {\r\n        const {currentUser} = this.props;\r\n        \r\n        const {address} = currentUser;\r\n        const hno = address? address.houseNo : \"\";\r\n        const street = address? address.street : \"\";\r\n        const city = address? address.city : \"\";\r\n        const state = address? address.state : \"\";\r\n        const zip = address? address.zipCode : \"\";\r\n        const country = address? address.country : \"\";\r\n        \r\n        return(\r\n            <div className=\"address-box\">\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"address-body\">\r\n                        <AddressItem \r\n                            label=\"House No\" \r\n                            name=\"houseNo\" \r\n                            value={hno} \r\n                            onChange={this.handleChange}\r\n                            />\r\n                        <AddressItem \r\n                            label=\"Street\"\r\n                            name=\"street\" \r\n                            value={street} \r\n\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <AddressItem \r\n                            label=\"City\"\r\n                            name=\"city\"  \r\n                            value={city} \r\n                            onChange={this.handleChange}\r\n                            />\r\n                        <AddressItem \r\n                            label=\"State\" \r\n                            name=\"state\" \r\n                            value={state}  \r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <AddressItem \r\n                            label=\"Zip Code\"\r\n                            name=\"zipCode\" \r\n                            value={zip} \r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <AddressItem \r\n                            label=\"Country\"\r\n                            name=\"country\"\r\n                            value={country}  \r\n                            onChange={this.handleChange}\r\n                        />\r\n\r\n                    </div>\r\n                    <div className=\"address-btn\">\r\n                        <CustomButton type=\"submit\">Update Address</CustomButton>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    currentUser: selectCurrentUser\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n        updateAddressStart : (currentUser, address) => dispatch(updateAddressStart(currentUser, address))\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserAddressForm);","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {createStructuredSelector} from \"reselect\";\r\n\r\n\r\nimport UserAddressForm from \"../user-address/user-address.component\";\r\n\r\nimport {selectCurrentUser} from \"../../redux/user/user.selector\";\r\n\r\nimport \"./user-information.styles.css\";\r\n\r\nclass UserInformation extends React.Component {\r\n        \r\n    render(){\r\n        const {currentUser} = this.props;\r\n        return(\r\n            <div className=\"user-information\">\r\n                <span className=\"info-heading\">\r\n                    Your Information\r\n                </span>\r\n                <div className=\"user-details\">\r\n                    <span className=\"name\">{currentUser.displayName}</span>\r\n                    <span className=\"email\">{currentUser.email}</span>\r\n                    <div className=\"address-container\">\r\n                        <UserAddressForm/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    currentUser: selectCurrentUser\r\n})\r\nexport default connect(mapStateToProps)(UserInformation);","import React from 'react';\r\n\r\nimport \"./order-history-item.styles.css\"\r\n\r\nclass OrderHistoryItem extends React.Component{\r\n    render(){\r\n        const {item, date} = this.props;\r\n        return(\r\n            <React.Fragment>\r\n                <div className=\"order-item\">\r\n                    <img src={item.imageUrl} alt=\"Order Item\" className=\"order-image\"/>\r\n                    <div className=\"order-item-info\">\r\n                        <div className=\"item-name\">\r\n                            {item.name}\r\n                        </div>\r\n                        <div className=\"item-price\">\r\n                            Total : Rs. {item.price * item.quantity}\r\n                        </div>\r\n                        <div className=\"item-quantity\">\r\n                            Quantity : {item.quantity}\r\n                        </div>\r\n                        <div className=\"date\">\r\n                            Order Date : {date}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        \r\n        \r\n    );\r\n    }\r\n}\r\n\r\nexport default OrderHistoryItem;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {createStructuredSelector} from \"reselect\";\r\n\r\nimport {selectOrderHistory} from \"../../redux/user/user.selector\";\r\n\r\nimport OrderHistoryItem from \"../order-history-item/order-history-item.component\";\r\n\r\nimport \"./order-history.styles.css\"\r\n\r\nclass OrderHistory extends React.Component{\r\n    render(){\r\n        const {orderHistory} = this.props;\r\n        orderHistory.reverse();\r\n        return(\r\n        <div className=\"order-history-container\">\r\n            {\r\n                orderHistory.map((order, i) => {\r\n                    return(\r\n                    <div className=\"order-history-item-container\" key={i}>\r\n                        <OrderHistoryItem key={i} item ={order.item} date={order.date} />\r\n                    </div>\r\n                    );\r\n                })\r\n            }\r\n            \r\n        </div>\r\n    );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    orderHistory: selectOrderHistory\r\n})\r\nexport default connect(mapStateToProps)(OrderHistory);","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {createStructuredSelector} from \"reselect\";\r\n\r\nimport UserInformation from \"../user-information/user-information.component\";\r\nimport OrderHistory from \"../order-history/order-history.component\";\r\n\r\nimport {hideUserDropdown} from \"../../redux/user/user.actions\";\r\nimport {selectCurrentUser ,selectShowUserInformation, selectShowOrderHistory} from \"../../redux/user/user.selector\";\r\n\r\nimport \"./user-profile-content.styles.css\";\r\n\r\nclass UserProfileContent extends React.Component{\r\n    componentDidMount()\r\n    {\r\n        this.props.hideUserDropdown()\r\n    }\r\n\r\n    renderUserInformation(currentUser){\r\n        return(\r\n           <UserInformation/>\r\n        );\r\n    }\r\n    renderOrderHistory(){\r\n        return(\r\n            <OrderHistory/>\r\n        );\r\n    }\r\n    render(){\r\n        const {currentUser, showUserInformation, showOrderHistory} = this.props;\r\n        return(\r\n            <div className=\"user-profile-content-container\">\r\n                {\r\n                    !currentUser ? (<div className=\"no-user-mssg\">\r\n                        <div>No User. Sign In</div>\r\n                        </div>)\r\n                    : showUserInformation ? this.renderUserInformation()\r\n                    : showOrderHistory ? this.renderOrderHistory() \r\n                    : \"Nope\"\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    hideUserDropdown : () => dispatch(hideUserDropdown())\r\n})\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    currentUser: selectCurrentUser,\r\n    showUserInformation : selectShowUserInformation,\r\n    showOrderHistory : selectShowOrderHistory\r\n\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfileContent);","import React from \"react\";\r\n\r\nimport UserImage from \"../../components/user-image/user-image.component\";\r\nimport UserDashboard from \"../../components/user-dashboard/user-dashboard.component\";\r\nimport UserProfileContent from \"../../components/user-profile-content/user-profile-content.component\";\r\n\r\nimport {} from \"../../redux/user/user.selector\";\r\n\r\nimport \"./user-profile.styles.css\";\r\n\r\nclass UserProfile extends React.Component {\r\n    render()\r\n    {\r\n        return(\r\n            <div className=\"user-profile-page\">\r\n                <div className=\"left-navbar\">\r\n                    <div className=\"user-image\">\r\n                        <UserImage />\r\n                    </div>\r\n                    <div className=\"dashboard\">\r\n                        <UserDashboard />\r\n                    </div>\r\n                </div>\r\n                <div className=\"user-content-container\">\r\n                    <div className=\"user-content\">\r\n                        <UserProfileContent/>\r\n                    </div>\r\n                        \r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default UserProfile;","import React from 'react';\nimport {Switch, Route, Redirect} from 'react-router-dom'\n\nimport {connect} from \"react-redux\"\n\nimport HomePage from \"./pages/homepage/homepage.component\";\nimport ShopPage from \"./pages/shop/shop.component\";\nimport Header from \"./components/header/header.component\";\nimport SignIn from \"./pages/sign-in/sign-in.component\";\nimport Register from \"./pages/register/register.component\";\nimport Checkout from \"./pages/checkout/checkout.component\";\nimport Footer from \"./components/footer/footer.component\";\nimport UserProfile from \"./pages/user-profile/user-profile.component\";\n\n\nimport {selectCurrentUser} from \"./redux/user/user.selector\";\nimport {checkUserSession} from \"./redux/user/user.actions\";\n\nimport {createStructuredSelector} from \"reselect\";\n\n\n// import {auth, createUserProfileDocument} from \"./firebase/firebase.utils\"\n\n\nimport './App.css';\n\n\n\n\nclass App extends React.Component {\n  \n  unsubscribeFromAuth = null;\n  \n  componentDidMount(){\n    const {checkUserSession} = this.props;\n    checkUserSession();\n\n  }\n  componentWillUnmount(){\n    this.unsubscribeFromAuth();\n  }\n     \n  render(){\n    return (\n      <React.Fragment>\n        <Header/>\n        <div className=\"wrapper-content\">\n        <Switch>\n          <Route exact path='/' component={HomePage}/>\n          <Route path='/shop' component={ShopPage}/>\n          <Route path='/checkout' component={Checkout}/>\n          <Route exact \n            path='/signin' \n            render = {() =>\n              this.props.currentUser ? (\n                <Redirect to=\"/\" />\n              ):(\n                <SignIn/>\n              )}\n          />\n          <Route exact \n            path='/register' \n            render = {() =>\n              this.props.currentUser ? (\n                <Redirect to=\"/\" />\n              ):(\n                <Register/>\n              )}\n          />\n          <Route path=\"/user-profile\" component={UserProfile} />\n        </Switch>\n\n        </div>\n        \n        <Footer/>\n      </React.Fragment>\n    );\n  }\n}\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser\n})\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSession : ()=> dispatch(checkUserSession())\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import UserActionTypes from \"./user.types\"\r\n\r\nconst INITIAL_STATE = {\r\n    currentUser: null,\r\n    error : null,\r\n    hidden: true,\r\n    showUserInformtion:false,\r\n    showResetPassword:false,\r\n    showOrderHistory:false\r\n}\r\nconst userReducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        case UserActionTypes.SIGN_IN_SUCCESS:\r\n        case UserActionTypes.UPDATE_ADDRESS_SUCCESS:\r\n        case UserActionTypes.GET_ORDER_HISTORY :\r\n            return {\r\n                ...state,\r\n                currentUser: action.payload,\r\n                error : null\r\n            };\r\n        case UserActionTypes.SIGN_OUT_SUCCESS : \r\n            return {\r\n                ...state,\r\n                currentUser : null,\r\n                error : null\r\n            };\r\n        case UserActionTypes.SIGN_IN_FAILURE : \r\n        case UserActionTypes.SIGN_OUT_FAILURE : \r\n        case UserActionTypes.SIGN_UP_FAILURE :\r\n        case UserActionTypes.UPDATE_ADDRESS_FAILURE:\r\n            return{\r\n                ...state,\r\n                error : action.payload\r\n            };\r\n        case UserActionTypes.TOGGLE_USER_DROPDOWN_HIDDEN : \r\n            return{\r\n                ...state,\r\n                hidden : !state.hidden\r\n            };\r\n        case UserActionTypes.USER_DROPDOWN_CLICKED_OUTSIDE : \r\n            return {\r\n                ...state,\r\n                hidden : true\r\n            }\r\n        case UserActionTypes.SHOW_USER_INFORMATION :\r\n            return{\r\n                ...state,\r\n                showUserInformtion:true,\r\n                showResetPassword:false,\r\n                showOrderHistory:false\r\n            }  \r\n        case UserActionTypes.SHOW_ORDER_HISTORY : \r\n            return{\r\n                ...state,\r\n                showUserInformtion:false,\r\n                showResetPassword:false,\r\n                showOrderHistory:true\r\n            } \r\n        default : \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default userReducer;","export const addItemToCart = (cartItems, cartItemToAdd) => {\r\n    const existingCartItem = cartItems.find(\r\n        cartItem => cartItem.id === cartItemToAdd.id\r\n    )\r\n\r\n    if (existingCartItem) {\r\n        return cartItems.map(cartItem => \r\n            cartItem.id === cartItemToAdd.id ?\r\n            {...cartItem, quantity: cartItem.quantity+1}\r\n            : cartItem\r\n        )\r\n    }\r\n    return [...cartItems, {...cartItemToAdd, quantity: 1}]\r\n}\r\n\r\nexport const removeItemFromCart = (cartItems, cartItemToRemove) => {\r\n    const existingCartItem = cartItems.find(\r\n        cartItem => cartItem.id === cartItemToRemove.id\r\n    )\r\n    if (existingCartItem.quantity === 1){\r\n        return cartItems.filter(cartItem => cartItem.id !== cartItemToRemove.id)\r\n    }\r\n    return cartItems.map(cartItem =>\r\n        cartItem.id === cartItemToRemove.id ?\r\n        {...cartItem, quantity: cartItem.quantity-1} \r\n        : cartItem\r\n    )\r\n\r\n}","import CartActionTypes from \"./cart.types\"\r\nimport {addItemToCart, removeItemFromCart} from \"./cart.utils\"\r\n\r\nconst INITIAL_STATE = {\r\n    hidden: true,\r\n    cartItems: []\r\n}\r\n\r\nconst cartReducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        case CartActionTypes.TOGGLE_CART_HIDDEN :\r\n            return {\r\n                ...state,\r\n                hidden : !state.hidden\r\n            };\r\n        case CartActionTypes.CART_CLICK_OUTSIDE :\r\n            return{\r\n                ...state,\r\n                hidden : true\r\n            }\r\n        case CartActionTypes.ADD_ITEM : \r\n            return {\r\n                ...state, \r\n                cartItems: addItemToCart(state.cartItems, action.payload)\r\n            }\r\n        case CartActionTypes.REMOVE_ITEM : \r\n            return{\r\n                ...state,\r\n                cartItems : removeItemFromCart(state.cartItems, action.payload)\r\n            }\r\n\r\n        case CartActionTypes.CLEAR_ITEM_FROM_CART : \r\n            return{\r\n                ...state,\r\n                cartItems : state.cartItems.filter(cartItem => cartItem.id !== action.payload.id)\r\n            }\r\n        case CartActionTypes.CLEAR_CART : \r\n            return{\r\n                ...state,\r\n                cartItems : []\r\n            }\r\n        default : \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default cartReducer;","const INITIAL_STATE = {\r\n    categories :[\r\n        {\r\n            title:\"Groceries\",\r\n            imageUrl : \"https://thumbs.dreamstime.com/b/young-girl-holds-full-paper-bag-groceries-white-wooden-background-above-top-view-flat-lay-young-girl-holds-full-paper-117080551.jpg\",\r\n            id :1,\r\n            linkUrl: \"shop/groceries\"\r\n        },\r\n        {\r\n            title:\"Mobiles\",\r\n            imageUrl : \"https://uswitch-mobiles-contentful.imgix.net/qhi9fkhtpbo3/3N5bH3FCJym48O6AOcM0wO/323220d01f30efd281c2a4a136dd2154/history-of-mobile-phones.jpg\",\r\n            id :2,\r\n            linkUrl: \"shop/mobiles\"\r\n        },\r\n        {\r\n            title:\"Clothes\",\r\n            imageUrl : \"https://image.freepik.com/free-vector/summer-clothes-set_74855-446.jpg\",\r\n            id :3,\r\n            linkUrl: \"shop/clothes\"\r\n        },\r\n        {\r\n            title:\"Books\",\r\n            imageUrl : \"https://images.indianexpress.com/2020/04/books_759.jpg\",\r\n            id :4,\r\n            linkUrl: \"shop/books\"\r\n        },\r\n        {\r\n            title:\"Furniture\",\r\n            imageUrl : \"https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/amazon-rivet-furniture-1533048038.jpg\",\r\n            id :5,\r\n            linkUrl: \"shop/furniture\"\r\n        }\r\n    ]\r\n};\r\n\r\nconst categoryListReducer = (state=INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        default : \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default categoryListReducer;","import ShopActionTypes from \"./shop.types\";\r\n\r\nconst INITITAL_STATE = {\r\n    collections: null,\r\n    isFetching: false,\r\n    errorMessage : undefined\r\n}\r\n\r\nconst shopReducer = (state = INITITAL_STATE, action) => {\r\n    switch(action.type){\r\n\r\n        case ShopActionTypes.FETCH_COLLECTIONS_START : \r\n            return {\r\n                ...state,\r\n                isFetching : true\r\n            }\r\n        case ShopActionTypes.FETCH_COLLECTIONS_SUCCESS : \r\n            return{\r\n                ...state,\r\n                isFetching : false,\r\n                collections : action.payload\r\n            }\r\n        case ShopActionTypes.FETCH_COLLECTION_FAILURE : \r\n            return{\r\n                ...state,\r\n                isFetching : false,\r\n                errorMessage : action.payload\r\n\r\n            }\r\n        \r\n        case ShopActionTypes.UPDATE_COLLECTIONS : \r\n            return {\r\n                ...state,\r\n                collections : action.payload\r\n            }\r\n        default : \r\n            return state;\r\n    }\r\n}\r\nexport default shopReducer;","import PaymentActionTypes from \"./payment.types\";\r\n\r\nconst INITIAL_STATE = {\r\n    error : null\r\n}\r\n\r\nconst paymentReducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        case PaymentActionTypes.STRIPE_PAYMENT_FAILURE : \r\n            return {\r\n                ...state,\r\n                error : action.payload\r\n            }\r\n        case PaymentActionTypes.STRIPE_PAYMENT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                error : null\r\n            }\r\n        default : \r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n}\r\n\r\nexport default paymentReducer;","import {combineReducers} from \"redux\";\r\nimport {persistReducer} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nimport userReducer from \"./user/user.reducer\";\r\nimport cartReducer from \"./cart/cart.reducer\";\r\nimport categoryListReducer from \"./categoryList/categoryList.reducer\";\r\nimport shopReducer from \"./shop/shop.reducer\";\r\nimport paymentReducer from \"./payment/payment.reducer\";\r\n\r\nconst persistConfig = {\r\n    key: \"root\", \r\n    storage,\r\n    whiteList : [\"cart\"]\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    user:userReducer,\r\n    cart: cartReducer,\r\n    categoryList: categoryListReducer,\r\n    shop: shopReducer,\r\n    payment : paymentReducer\r\n\r\n})\r\nexport default persistReducer(persistConfig, rootReducer)","import {takeLatest, call, put, all} from \"redux-saga/effects\";\r\n\r\nimport {firestore, convertCollectionSnapshotToMap} from \"../../firebase/firebase.utils\";\r\nimport { fetchCollectionsSuccess, fetchCollectionsFailure} from \"./shop.actions\";\r\n\r\nimport ShopActionTypes from \"./shop.types\";\r\n\r\nexport function* fetchCollectionsAsync(){\r\n\r\n    try {\r\n        const collectionRef = firestore.collection('collections');\r\n        const snapShot = yield collectionRef.get();\r\n        const collectionsMap = yield call(convertCollectionSnapshotToMap, snapShot);\r\n\r\n        yield put(fetchCollectionsSuccess(collectionsMap));\r\n        \r\n    } catch (error) {\r\n        yield put(fetchCollectionsFailure(error.message));\r\n    }\r\n}\r\n\r\nexport function* fetchCollectionsStart(){\r\n    yield takeLatest(\r\n        ShopActionTypes.FETCH_COLLECTIONS_START,\r\n        fetchCollectionsAsync\r\n    );\r\n\r\n}\r\nexport function* shopSagas(){\r\n    yield all([call(fetchCollectionsStart)])\r\n}\r\n","import {takeLatest, put, all, call } from \"redux-saga/effects\"\r\n\r\nimport UserActionTypes from \"./user.types\"\r\nimport {updateAddressSuccess,updateAddressFailure,\r\n    signInSuccess, signInFailure, \r\n    signOutSuccess, signOutFailure,\r\n    signUpSuccess, signUpFailure} from \"./user.actions\"\r\n\r\nimport {auth, googleProvider, createUserProfileDocument, getCurrentUser, updateUserAddress} from \"../../firebase/firebase.utils\"\r\n\r\n\r\nexport function* getSnapshotFromUserAuth(userAuth, additionalData){\r\n    try{\r\n        const userRef = yield call(createUserProfileDocument, userAuth, additionalData);\r\n        const userSnapShot = yield userRef.get();\r\n        yield put(signInSuccess({id : userSnapShot.id, ...userSnapShot.data()}));\r\n    }catch(error){\r\n        yield put(signInFailure(error));\r\n\r\n    }\r\n\r\n}\r\nexport function* signInWithGoogle(){\r\n    try{\r\n        const {user} = yield auth.signInWithPopup(googleProvider);\r\n        yield getSnapshotFromUserAuth(user);\r\n    }catch(error){\r\n        yield put(signInFailure(error));\r\n\r\n    }\r\n}\r\n\r\nexport function* signInWithEmail({payload : {email, password}}){\r\n    try{\r\n        const {user} = yield auth.signInWithEmailAndPassword(email, password);\r\n        yield getSnapshotFromUserAuth(user);\r\n    }\r\n    catch(error){\r\n        put(signInFailure(error))\r\n    }\r\n}\r\n\r\nexport function* onGoogleSignInStart(){\r\n    yield takeLatest(UserActionTypes.GOOGLE_SIGN_IN_START, signInWithGoogle)\r\n\r\n}\r\n\r\nexport function* onEmailSignInStart(){\r\n    yield takeLatest(UserActionTypes.EMAIL_SIGN_IN_START, signInWithEmail)\r\n}\r\n\r\nexport function* isUserAuthenticated()\r\n{\r\n    try{\r\n        const userAuth = yield getCurrentUser();\r\n        if (!userAuth) return;\r\n        yield getSnapshotFromUserAuth(userAuth);\r\n    }catch(error){\r\n        yield put(signInFailure(error));\r\n    }\r\n}\r\n\r\nexport function* signUp({payload : {email, password, displayName}}){\r\n    try {\r\n        const {user} = yield auth.createUserWithEmailAndPassword(email, password);\r\n        yield put(signUpSuccess({user, additionalData : {displayName}}));\r\n    } catch (error) {\r\n        yield put(signUpFailure(error))\r\n    }\r\n}\r\n\r\nexport function* signInAfterSignUp({payload : {user, additionalData}})\r\n{\r\n    yield getSnapshotFromUserAuth(user, additionalData);\r\n}\r\nexport function* signOut(){\r\n    try{\r\n        yield auth.signOut();\r\n        yield put(signOutSuccess())\r\n    }catch(error)\r\n    {\r\n        yield put(signOutFailure(error))\r\n    }\r\n}\r\n\r\nexport function* updateAddress({payload : {currentUser, address}}){\r\n    try{\r\n        const userRef = yield call(updateUserAddress, currentUser, address);\r\n        const userSnapShot = yield userRef.get();\r\n        yield put(updateAddressSuccess({id : userSnapShot.id, ...userSnapShot.data()}));\r\n        // yield call(updateUserAddress, currentUser, address);\r\n        // currentUser.address = address;\r\n        // yield put(updateAddressSuccess(currentUser))\r\n\r\n\r\n    }catch(error){\r\n        yield put(updateAddressFailure(error));\r\n    }\r\n}\r\n\r\nexport function* onCheckUserSession(){\r\n    yield takeLatest(UserActionTypes.CHECK_USER_SESSION, isUserAuthenticated)\r\n\r\n}\r\n\r\nexport function* onSignOutStart(){\r\n    yield takeLatest(UserActionTypes.SIGN_OUT_START, signOut)\r\n\r\n}\r\n\r\nexport function* onSignUpStart(){\r\n    yield takeLatest(UserActionTypes.SIGN_UP_START, signUp);\r\n}\r\n\r\nexport function* onSignUpSuccess(){\r\n    yield takeLatest(UserActionTypes.SIGN_UP_SUCCESS, signInAfterSignUp)\r\n}\r\n\r\nexport function* onUpdateAddressStart(){\r\n    yield takeLatest(UserActionTypes.UPDATE_ADDRESS_START, updateAddress)\r\n}\r\n\r\nexport function* userSagas(){\r\n    yield all([call(onGoogleSignInStart),\r\n            call(onEmailSignInStart),\r\n            call(onCheckUserSession),\r\n            call(onSignOutStart),\r\n            call(onSignUpStart),\r\n            call(onSignUpSuccess),\r\n            call(onUpdateAddressStart)\r\n    ]);\r\n}","import {all, call, put, takeLatest, select} from \"redux-saga/effects\";\r\n\r\nimport UserActionTypes from \"../user/user.types\";\r\nimport {clearCart} from \"./cart.actions\";\r\nimport {getOrderHistory} from \"../user/user.actions\";\r\n\r\nimport {selectCartItems} from \"./cart.selectors\";\r\nimport {selectCurrentUser} from\"../user/user.selector\";\r\n\r\nimport PaymentActionTypes from \"../payment/payment.types\";\r\n// import {stripePaymentStart} from \"../payment/payment.actions\";\r\n\r\nimport {addCartItemsToOrderDetails} from \"../../firebase/firebase.utils\";\r\n\r\n\r\n\r\nexport function* clearCartOnSignOutOrCheckout(){\r\n    yield put(clearCart());\r\n}\r\n\r\nexport function* checkout(){\r\n    const cart = yield select(selectCartItems);\r\n    const currentUser = yield select(selectCurrentUser);\r\n\r\n    let userRef = yield call(addCartItemsToOrderDetails, currentUser, cart);\r\n    const userSnapshot = yield userRef.get();\r\n\r\n    yield put(getOrderHistory({id : userSnapshot.id, ...userSnapshot.data()}));\r\n    yield clearCartOnSignOutOrCheckout()\r\n\r\n    alert(\"Order History has been updated\")\r\n}\r\n\r\nexport function* onSignOutSuccess(){\r\n    yield takeLatest(UserActionTypes.SIGN_OUT_SUCCESS, clearCartOnSignOutOrCheckout)\r\n}\r\n\r\nexport function* onPaymentSuccess(){\r\n    yield takeLatest(PaymentActionTypes.STRIPE_PAYMENT_SUCCESS, checkout);\r\n}\r\n\r\nexport function* cartSagas(){\r\n    yield all([\r\n        call(onSignOutSuccess),\r\n        call(onPaymentSuccess)\r\n    ])\r\n}","import {takeLatest, put, all, call } from \"redux-saga/effects\";\r\n\r\nimport axios from 'axios';\r\n\r\nimport PaymentActionTypes from \"./payment.types\";\r\nimport {stripePaymentFailure, stripePaymentSuccess} from \"./payment.actions\";\r\n\r\n\r\nexport function* stripePayment(stripeData){\r\n    try{\r\n        yield axios({\r\n            url: 'http://localhost:5000/payment',\r\n            method: 'post',\r\n            data: {...stripeData.payload}\r\n        })\r\n        yield put(stripePaymentSuccess())\r\n        alert(\"Payment Successful\")\r\n    }catch(error){\r\n        yield put(stripePaymentFailure(error))\r\n        alert(\"Error in Payment\")\r\n    }\r\n}\r\nexport function* onStripePaymentStart(){\r\n    yield takeLatest(PaymentActionTypes.STRIPE_PAYMENT_START, stripePayment)\r\n}\r\nexport function* paymentSagas(){\r\n    yield all([\r\n        call(onStripePaymentStart)\r\n    ])\r\n}","import {all, call} from \"redux-saga/effects\";\r\n\r\nimport {shopSagas} from \"./shop/shop.sagas\";\r\nimport {userSagas} from \"./user/user.sagas\";\r\nimport {cartSagas} from \"./cart/cart.sagas\";\r\nimport {paymentSagas} from \"./payment/payment.sagas\";\r\n\r\nexport default function* rootSaga(){\r\n    yield all([\r\n        call(shopSagas),\r\n        call(userSagas),\r\n        call(cartSagas),\r\n        call(paymentSagas)\r\n\r\n    ]);\r\n}","import {createStore, applyMiddleware} from \"redux\";\r\nimport {persistStore} from \"redux-persist\";\r\nimport logger from \"redux-logger\";\r\n\r\nimport createSagaMiddleware from \"redux-saga\"\r\n\r\n\r\nimport rootReducer from \"./root-reducer\";\r\nimport rootSaga from \"./root-saga\";\r\n\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst middlewares = [logger, sagaMiddleware];\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares));\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default {store, persistor};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport {PersistGate} from \"redux-persist/integration/react\";\n\nimport './index.css';\n\nimport App from './App';\nimport {store, persistor} from \"./redux/store\";\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <PersistGate persistor={persistor}>\n        <App />\n      </PersistGate>\n    </BrowserRouter>\n  </Provider>\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}